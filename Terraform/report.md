# Знакомство с Terraform

- [Задание](#задание)
- [Теория](#теория)
- [Предустановка](#предустановка)
- [Установка инструментов](#установка-инструментов)
- [Сбор метрик](#сбор-метрик)
- [Выводы](#выводы)

## Задание: 

Ознакомиться с инструментом Terraform и принципами описания инфраструктуры в виде кода (Infrastructure as Code). Создать инфраструктуру в Yandex Cloud и запустить на виртуальной машине nginx с помощью Docker.

## Теория

> Подробно останавливаться на Best practices по работе с Terraform в данной работе не будем, так как у нас цель познакомиться с инструментом.

![image](https://github.com/user-attachments/assets/efd2f6ef-1204-4cfd-9a9f-ce46ae3d625e)

* **Terraform** — это инструмент для описания и управления инфраструктурой в виде кода (Infrastructure as Code, IaC). Он позволяет создавать, изменять и удалять ресурсы в облачных провайдерах (например, Yandex Cloud, AWS, GCP) и других сервисах. Terraform использует декларативный подход: вы описываете, какой результат хотите получить, а не как его достичь.

* Для чего нужен Terraform:
  * Автоматизации создания инфраструктуры (виртуальные машины, сети, базы данных, балансировщики и т.д.);
  * Управления конфигурацией инфраструктуры в виде кода (легко хранить в Git, отслеживать изменения);
  * Повышения воспроизводимости и уменьшения числа ошибок при ручной настройке.

* Основные команды Terraform:
  * terraform `init` — инициализация рабочего каталога, загрузка провайдеров и модулей.
  * terraform `plan` — просмотр плана изменений без их применения.
  * terraform `apply` — применение конфигурации, создание или изменение инфраструктуры.
  * terraform `destroy` — удаление созданной инфраструктуры.
  * terraform `output` — вывод значений, определённых в блоках output.
  * terraform `fmt` — автоматическое форматирование кода по стандарту Terraform.
  * terraform `validate` — проверка конфигурационных файлов на синтаксические ошибки.
  * terraform `taint` — пометка ресурса для пересоздания при следующем apply.

* Структура Terraform:
  * Файлы с расширением `.tf` — конфигурационные файлы с описанием инфраструктуры.
  * Файлы с расширением `.tfvars` — файлы для задания значений переменных.
  * Файлы с расширением `.tfstate` — файлы состояния, где фиксируется текущее состояние инфраструктуры.
  * Файл `.terraform.lock.hcl` — фиксирует версии провайдеров и модулей для стабильного воспроизведения инфраструктуры.
  * Каталог `.terraform/` — содержит загруженные провайдеры, модули и служебные данные.
 
* Основные компоненты Terraform:
  * **Providers** — плагины для взаимодействия с конкретными платформами (например, Yandex Cloud, AWS).
  * **Resources** — реальные объекты инфраструктуры, которые Terraform создаёт и управляет ими (например, виртуальные машины, сети).
  * **Data Sources** — получение информации о внешних объектах, которые не управляются напрямую Terraform.
  * **Outputs** — вывод значений после создания инфраструктуры (например, публичный IP).
  * **Modules** — наборы конфигураций для переиспользования кода.
  * **Variables** — входные данные для конфигураций (например, имя ВМ, регион).
  * **Locals** — локальные переменные для упрощения выражений внутри конфигурации.
